<div class="register-wrapper">
  <div class="register-container">

    <div class="register-heading">
      Crea una cuenta
    </div>

    <!-- ðŸ”´ MENSAJE GENERAL BACKEND -->
    <div class="error" *ngIf="mensajeGeneral">
      {{ mensajeGeneral }}
    </div>

    <form [formGroup]="form" (ngSubmit)="register()">

      <!-- NOMBRE -->
       <input
       class="register-input"
        type="text"
        formControlName="nombre"
        placeholder="Nombre completo"
        [class.invalid]="
          errores['nombre'] ||
          (form.get('nombre')?.touched && form.get('nombre')?.invalid)
        "
      />

      <div class="error" *ngIf="errores['nombre']">
        {{ errores['nombre'] }}
      </div>

      <!-- EMAIL -->
      <input
        class="register-input"
        type="email"
        formControlName="email"
        placeholder="correo@email.com"
        [class.invalid]="
          errores['email'] ||
          (form.get('email')?.touched && form.get('email')?.invalid)
        "
      />

      <div class="error" *ngIf="errores['email']">
        {{ errores['email'] }}
      </div>


      <!-- CONTRASEÃ‘A -->
      <div class="password-field">
        <input
          class="register-input"
          [type]="showPassword ? 'text' : 'password'"
          formControlName="password"
          placeholder="ContraseÃ±a"
          [class.invalid]="errores['password']"
        />

        <img
          class="toggle-password-icon"
          src="/icons/ojo.png"
          alt="Ver contraseÃ±a"
          (click)="togglePassword()"
        />

        <div class="error" *ngIf="errores['password']">
          {{ errores['password'] }}
        </div>
      </div>


      <!-- CONFIRMAR CONTRASEÃ‘A -->
      <div class="password-field">
        <input
          class="register-input"
          [type]="showConfirmPassword ? 'text' : 'password'"
          formControlName="confirmPassword"
          placeholder="Confirmar contraseÃ±a"
          [class.invalid]="errores['confirmPassword']"
        />

        <img
          class="toggle-password-icon"
          src="/icons/ojo.png"
          alt="Ver contraseÃ±a"
          (click)="toggleConfirmPassword()"
        />

        <div class="error" *ngIf="errores['confirmPassword']">
          {{ errores['confirmPassword'] }}
        </div>
      </div>

      <!-- TÃ‰RMINOS -->
      <label class="register-terms">
        <input type="checkbox" formControlName="acceptTerms" />
        <span>
          Acepto los
          <a href="#">TÃ©rminos y condiciones</a>
        </span>
      </label>

      <div class="error" *ngIf="form.get('acceptTerms')?.touched && form.get('acceptTerms')?.invalid">
        Debes aceptar los tÃ©rminos
      </div>

      <!-- BOTÃ“N -->
      <button class="register-button" type="submit">
        Crear cuenta
      </button>

      <!-- FOOTER -->
      <p class="register-footer">
        Â¿Ya tienes cuenta?
        <a (click)="goToLogin()">Inicia sesiÃ³n</a>
      </p>

    </form>

  </div>
</div>