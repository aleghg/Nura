<app-shop-header></app-shop-header>

<section class="shop">

  <div class="shop-editorial-bg"></div>

  <div class="shop-content">

    <div class="shop-hero reveal">
      <h1>Cat√°logo</h1>
      <p>Explora nuestra colecci√≥n de productos exclusivos</p>
    </div>

    <!-- üî¥ Mensaje de error categor√≠as -->
    <div *ngIf="errorCategorias" class="alert alert-danger">
      {{ errorCategorias }}
    </div>

    <!-- Categor√≠as -->
    <div class="shop-categories reveal">
      <button (click)="filtrarPorCategoria(null)">Todos</button>
      <button *ngFor="let categoria of categorias" (click)="filtrarPorCategoria(categoria)">
        {{ categoria.nombre }}
      </button>
    </div>

    <!-- Buscador -->
    <div class="shop-search reveal">
      <input type="text" placeholder="Buscar productos..." [(ngModel)]="busqueda" (keyup)="buscarProducto()">
    </div>

    <!-- üî¥ Mensaje de error productos -->
    <div *ngIf="errorProductos" class="alert alert-danger">
      {{ errorProductos }}
    </div>

    <!-- Grid de productos -->
    <div class="shop-grid">
  <div class="product-card reveal" *ngFor="let producto of productosFiltrados; let i = index"
       [style.transitionDelay]="(i * 120) + 'ms'">

    <!-- Imagen -->
    <img [src]="getImagen(producto)" [alt]="producto.nombre">

    <!-- Info del producto -->
    <div class="product-info">
      <h3>{{ producto.nombre }}</h3>
      <span class="price">${{ producto.precio | number:'1.0-0' }}</span>
      <p>{{ producto.descripcion }}</p>
      <p><strong>Categor√≠a:</strong> {{ producto.categoria?.nombre }}</p>
      <p><strong>Stock:</strong> {{ producto.stock }}</p>
      <button (click)="agregarAlCarrito(producto)">Agregar al carrito</button>
    </div>
  </div>
</div>


  </div>
</section>